{
  "description": "This pipe represents a two stage annotation process. In a first stage bbox annotations are created and in the second stage this bboxes will be labeled by MIA",
  "author": "Jonas Jaeger",
  "pipe-schema-version" : 0.0,
  "elements": [{
      "peN": 0,
      "peOut": [1],
      "datasource": {
        "type": "rawFile"
      }
    },
    {
      "peN": 1,
      "peOut": [2],
      "script": {
        "path": "request_bba_preboxed.py",
        "description": "Request BBoxAnnotations for all images in an rawFile. Create also some dummy boxes."
      }
    },
    {
      "peN": 2,
      "peOut": [3],
      "annoTask": {
        "name": "BBoxAnnotation",
        "type": "sia",
        "instructions": "Please draw bounding boxes for all objects in image.",
        "configuration": {
          "tools": {
            "point": false,
            "line": false,
            "polygon": false,
            "bbox": true
          },
          "actions": {
            "drawing": true,
            "labeling": false,
            "edit": {
              "label": false,
              "bounds": true,
              "delete": true
            }
          },
          "drawables": {
            "bbox": {
              "minArea": 0.001234
            }
          }
        }
      }
    },
    {
      "peN": 3,
      "peOut": [4],
      "script": {
        "path": "cluster_boxes.py",
        "description": "Cluster bboxes by setting sim class"
      }
    },
    {
      "peN" : 4,
      "peOut" : null,
      "annoTask" : {
        "name" : "MultiImageAnnotation",
        "type" : "mia",
        "instructions" : "Please assign a class labels to all presented images.",
        "configuration":{
          "type": "annoBased"
        }
      }
    }
  ]
}
